/***********************************************************************************************************************
 * Copyright (C) 2023 Nguyen Phuoc Dai. All Rights Reserved.
 **********************************************************************************************************************/

/***********************************************************************************************************************
* File Name    : lilygo_eth.h
* Description  : Board specific functions for the LILYGO ETH board
***********************************************************************************************************************/

/***********************************************************************************************************************
Includes   <System Includes> , "Project Includes"
***********************************************************************************************************************/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include "esp_system.h"
#include "esp_log.h"
#include "esp_heap_caps.h"

/***********************************************************************************************************************
Typedef definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
Macro definitions
***********************************************************************************************************************/

/***********************************************************************************************************************
Private global variables and functions
***********************************************************************************************************************/
//static const char* TAG = "GW_LILYGO_ETH";

/***********************************************************************************************************************
* @brief  	   : Show current memory information
* @param       : none
* @return      : none
***********************************************************************************************************************/
void show_memory_info()
{
	printf("------------------------ Memory summary -------------------------------\n");
	printf("Free heap size        %d KiB\n", (int)esp_get_free_heap_size() / 1024);

	size_t free_spi_ram = heap_caps_get_free_size(MALLOC_CAP_SPIRAM);
	printf("Free SPI RAM          %d KiB\n", (int)free_spi_ram / 1024);

	size_t free_internal_ram = heap_caps_get_free_size(MALLOC_CAP_INTERNAL);
	printf("Free internal RAM     %d KiB\n", (int)free_internal_ram / 1024);

	size_t free_8bits_ram = heap_caps_get_free_size(MALLOC_CAP_8BIT);
	printf("Free 8bits RAM (DRAM) %d KiB\n", (int)free_8bits_ram / 1024);

	size_t free_DMA_ram = heap_caps_get_free_size(MALLOC_CAP_DMA);
	printf("Free DMA RAM          %d KiB\n", (int)free_DMA_ram / 1024);
    printf("-----------------------------------------------------------------------\n");
}